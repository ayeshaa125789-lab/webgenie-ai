
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>WebGenie AI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>ü™Ñ WebGenie AI</h1>
  <input id="prompt" placeholder="Type website idea">
  <button onclick="generate()">Generate</button>
  <div id="output"></div>

  <!-- Supabase + Script -->
  <script type="module">
    import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'

    // üîó Your Supabase credentials
    const SUPABASE_URL = "https://fadktinnlvnpshpdgneh.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZhZGt0aW5ubHZucHNocGRnbmVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwOTg0NjMsImV4cCI6MjA3NzY3NDQ2M30.YxBnwLsfn1Zd3tihqHcT8wD4mrflgoEEZyVrqrk-MVo";

    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // üß† Dummy generate function
    async function generate() {
      const prompt = document.getElementById("prompt").value;
      const htmlCode = `<h2>${prompt}</h2><p>Generated by WebGenie AI ‚ú®</p>`;
      document.getElementById("output").innerHTML = htmlCode;

      // üíæ Save data to Supabase
      const { data, error } = await supabase
        .from("websites")  // ‚úÖ exact table name (check Supabase)
        .insert([
          { idea: prompt, html_code: htmlCode }
        ]);

      if (error) {
        console.error("‚ùå Error saving data:", error);
        alert("Error saving data: " + error.message);
      } else {
        console.log("‚úÖ Data saved:", data);
        alert("Website idea saved successfully!");
      }
    }
  </script>
</body>
</html>
